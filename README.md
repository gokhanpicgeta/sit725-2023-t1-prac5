Updated to use MVC Architecture and still using ejs so its slightly diff.